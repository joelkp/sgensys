#include "math.h"

typedef struct MGSSinOsc {
  float coeff;
  float sin, cos;
} MGSSinOsc;

#define MGSSinOsc_SET_COEFF(o, fq, sr) \
  ((void)((o)->coeff = (2.f * sin(PI * (fq)/(sr)))))

#define MGSSinOsc_SET_RANGE(o, r) \
  ((void)(((o)->sin = (r)), (o)->cos = 0.f))

#define MGSSinOsc_RUN(o) do{ \
  (o)->sin -= (o)->coeff * (o)->cos; \
  (o)->cos += (o)->coeff * (o)->sin; \
}while(0)

